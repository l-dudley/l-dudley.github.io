import{S as lt,i as st,s as nt,e as u,k as O,t as q,c as d,a as h,d as o,m as R,h as z,b as A,G as $,g as j,H as a,I as K,a5 as W,j as G,n as tt,M as ot,T as ct,U as rt,x as it,N as ft,y as ut,z as dt,V as ht,r as mt,p as _t,a4 as bt,C as vt,w as Tt}from"../../chunks/index-b1f754cc.js";import{a as Et,e as At}from"../../chunks/db-c0070083.js";function yt(e){let l,n,m,i,f,b,T,_,v,r,s,D,F,S,k,y,U,L,w,H,B,I,E;return{c(){l=u("div"),n=u("div"),m=O(),i=u("div"),f=u("header"),b=u("p"),T=q(e[1]),_=O(),v=u("button"),r=O(),s=u("section"),D=u("div"),F=q(e[4]),S=O(),k=u("footer"),y=u("button"),U=q(e[2]),w=O(),H=u("button"),B=q(e[3]),this.h()},l(N){l=d(N,"DIV",{class:!0});var c=h(l);n=d(c,"DIV",{class:!0}),h(n).forEach(o),m=R(c),i=d(c,"DIV",{class:!0});var V=h(i);f=d(V,"HEADER",{class:!0});var P=h(f);b=d(P,"P",{class:!0});var t=h(b);T=z(t,e[1]),t.forEach(o),_=R(P),v=d(P,"BUTTON",{class:!0,"aria-label":!0}),h(v).forEach(o),P.forEach(o),r=R(V),s=d(V,"SECTION",{class:!0});var C=h(s);D=d(C,"DIV",{class:!0});var M=h(D);F=z(M,e[4]),M.forEach(o),C.forEach(o),S=R(V),k=d(V,"FOOTER",{class:!0});var g=h(k);y=d(g,"BUTTON",{class:!0});var Y=h(y);U=z(Y,e[2]),Y.forEach(o),w=R(g),H=d(g,"BUTTON",{class:!0});var J=h(H);B=z(J,e[3]),J.forEach(o),g.forEach(o),V.forEach(o),c.forEach(o),this.h()},h(){A(n,"class","modal-background"),A(b,"class","modal-card-title"),A(v,"class","delete"),A(v,"aria-label","close"),A(f,"class","modal-card-head"),A(D,"class","block"),A(s,"class","modal-card-body"),A(y,"class",L="button "+e[7]),A(H,"class","button"),A(k,"class","modal-card-foot"),A(i,"class","modal-card"),A(l,"class","modal"),$(l,"is-active",e[0])},m(N,c){j(N,l,c),a(l,n),a(l,m),a(l,i),a(i,f),a(f,b),a(b,T),a(f,_),a(f,v),a(i,r),a(i,s),a(s,D),a(D,F),a(i,S),a(i,k),a(k,y),a(y,U),a(k,w),a(k,H),a(H,B),I||(E=[K(v,"click",function(){W(e[6])&&e[6].apply(this,arguments)}),K(y,"click",function(){W(e[5])&&e[5].apply(this,arguments)}),K(H,"click",function(){W(e[6])&&e[6].apply(this,arguments)})],I=!0)},p(N,[c]){e=N,c&2&&G(T,e[1]),c&16&&G(F,e[4]),c&4&&G(U,e[2]),c&128&&L!==(L="button "+e[7])&&A(y,"class",L),c&8&&G(B,e[3]),c&1&&$(l,"is-active",e[0])},i:tt,o:tt,d(N){N&&o(l),I=!1,ot(E)}}}function gt(e,l,n){let{title:m="Confirm"}=l,{confirmText:i="Yes"}=l,{cancelText:f="Cancel"}=l,{bodyText:b="Are you sure?"}=l,{active:T=!1}=l,{confirmAction:_=()=>{}}=l,{cancelAction:v=()=>{n(0,T=!1)}}=l,{confirmButtonClass:r="is-success"}=l;return e.$$set=s=>{"title"in s&&n(1,m=s.title),"confirmText"in s&&n(2,i=s.confirmText),"cancelText"in s&&n(3,f=s.cancelText),"bodyText"in s&&n(4,b=s.bodyText),"active"in s&&n(0,T=s.active),"confirmAction"in s&&n(5,_=s.confirmAction),"cancelAction"in s&&n(6,v=s.cancelAction),"confirmButtonClass"in s&&n(7,r=s.confirmButtonClass)},[T,m,i,f,b,_,v,r]}class Ct extends lt{constructor(l){super(),st(this,l,gt,yt,nt,{title:1,confirmText:2,cancelText:3,bodyText:4,active:0,confirmAction:5,cancelAction:6,confirmButtonClass:7})}}function et(e,l,n){const m=e.slice();return m[7]=l[n],m}function at(e){let l,n,m=e[7].firstName+"",i,f,b,T=e[7].lastName+"",_,v,r,s,D,F,S,k,y,U,L,w,H;function B(){return e[4](e[7])}return{c(){l=u("tr"),n=u("td"),i=q(m),f=O(),b=u("td"),_=q(T),v=O(),r=u("td"),s=u("a"),D=u("span"),F=q("Edit"),k=O(),y=u("button"),U=q("Delete"),L=O(),this.h()},l(I){l=d(I,"TR",{});var E=h(l);n=d(E,"TD",{});var N=h(n);i=z(N,m),N.forEach(o),f=R(E),b=d(E,"TD",{});var c=h(b);_=z(c,T),c.forEach(o),v=R(E),r=d(E,"TD",{});var V=h(r);s=d(V,"A",{class:!0,href:!0});var P=h(s);D=d(P,"SPAN",{});var t=h(D);F=z(t,"Edit"),t.forEach(o),P.forEach(o),k=R(V),y=d(V,"BUTTON",{class:!0});var C=h(y);U=z(C,"Delete"),C.forEach(o),V.forEach(o),L=R(E),E.forEach(o),this.h()},h(){A(s,"class","button is-primary"),A(s,"href",S="/roster/edit/"+e[7].id),A(y,"class","button is-danger")},m(I,E){j(I,l,E),a(l,n),a(n,i),a(l,f),a(l,b),a(b,_),a(l,v),a(l,r),a(r,s),a(s,D),a(D,F),a(r,k),a(r,y),a(y,U),a(l,L),w||(H=K(y,"click",B),w=!0)},p(I,E){e=I,E&1&&m!==(m=e[7].firstName+"")&&G(i,m),E&1&&T!==(T=e[7].lastName+"")&&G(_,T),E&1&&S!==(S="/roster/edit/"+e[7].id)&&A(s,"href",S)},d(I){I&&o(l),w=!1,H()}}}function Nt(e){let l,n,m,i,f,b,T,_,v,r,s,D,F,S,k,y,U,L,w,H,B,I,E,N=e[0],c=[];for(let t=0;t<N.length;t+=1)c[t]=at(et(e,N,t));function V(t){e[5](t)}let P={title:"Are you sure?",bodyText:"Are you sure you want to delete this student? This action cannot be undone.",confirmText:"Delete",confirmButtonClass:"is-danger",cancelText:"Cancel",confirmAction:e[3]};return e[1]!==void 0&&(P.active=e[1]),B=new Ct({props:P}),ct.push(()=>rt(B,"active",V)),{c(){l=O(),n=u("h2"),m=q("Class Roster"),i=O(),f=u("a"),b=q("Add"),T=O(),_=u("table"),v=u("thead"),r=u("tr"),s=u("th"),D=q("First Name"),F=O(),S=u("th"),k=q("Last Name"),y=O(),U=u("th"),L=O(),w=u("tbody");for(let t=0;t<c.length;t+=1)c[t].c();H=O(),it(B.$$.fragment),this.h()},l(t){ft('[data-svelte="svelte-279z40"]',document.head).forEach(o),l=R(t),n=d(t,"H2",{class:!0});var M=h(n);m=z(M,"Class Roster"),M.forEach(o),i=R(t),f=d(t,"A",{class:!0,href:!0});var g=h(f);b=z(g,"Add"),g.forEach(o),T=R(t),_=d(t,"TABLE",{class:!0});var Y=h(_);v=d(Y,"THEAD",{});var J=h(v);r=d(J,"TR",{});var p=h(r);s=d(p,"TH",{});var X=h(s);D=z(X,"First Name"),X.forEach(o),F=R(p),S=d(p,"TH",{});var Z=h(S);k=z(Z,"Last Name"),Z.forEach(o),y=R(p),U=d(p,"TH",{}),h(U).forEach(o),p.forEach(o),J.forEach(o),L=R(Y),w=d(Y,"TBODY",{});var x=h(w);for(let Q=0;Q<c.length;Q+=1)c[Q].l(x);x.forEach(o),Y.forEach(o),H=R(t),ut(B.$$.fragment,t),this.h()},h(){document.title="Class Roster",A(n,"class","title is-2"),A(f,"class","button is-primary"),A(f,"href","/roster/edit"),A(_,"class","table")},m(t,C){j(t,l,C),j(t,n,C),a(n,m),j(t,i,C),j(t,f,C),a(f,b),j(t,T,C),j(t,_,C),a(_,v),a(v,r),a(r,s),a(s,D),a(r,F),a(r,S),a(S,k),a(r,y),a(r,U),a(_,L),a(_,w);for(let M=0;M<c.length;M+=1)c[M].m(w,null);j(t,H,C),dt(B,t,C),E=!0},p(t,[C]){if(C&5){N=t[0];let g;for(g=0;g<N.length;g+=1){const Y=et(t,N,g);c[g]?c[g].p(Y,C):(c[g]=at(Y),c[g].c(),c[g].m(w,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=N.length}const M={};!I&&C&2&&(I=!0,M.active=t[1],ht(()=>I=!1)),B.$set(M)},i(t){E||(mt(B.$$.fragment,t),E=!0)},o(t){_t(B.$$.fragment,t),E=!1},d(t){t&&o(l),t&&o(n),t&&o(i),t&&o(f),t&&o(T),t&&o(_),bt(c,t),t&&o(H),vt(B,t)}}}function Dt(e,l,n){let m=[],i=!1,f="";Tt(async()=>{n(0,m=await Et())});const b=r=>{f=r,n(1,i=!0)},T=async()=>{await At(f),n(0,m=m.filter(r=>r.id!==f)),f="",n(1,i=!1)},_=r=>b(r.id);function v(r){i=r,n(1,i)}return[m,i,b,T,_,v]}class Ot extends lt{constructor(l){super(),st(this,l,Dt,Nt,nt,{})}}export{Ot as default};
